<script>
  import { IconChevronRightMedium, IconChevronLeftMedium } from "@rubus/svelte-spectrum-icons-ui";
  import { onMount } from "svelte";
  import { current_component } from "svelte/internal";
  import { getEventsAction } from "../utils/get-events-action.js";

  /**
   * Set the `href` to use an anchor link
   * @type {string}[href = ""]
   */
  export let href = "#";

  /**
   * Specify the `type` attribute for the button element
   * @type {"button"|"submit"|"reset"}[type="button"]
   */
  export let type = "button";

  /**
   * Specify the labe text for the button element
   * @type {"button"|"submit"|"reset"}[type="button"]
   */
  export let label = "Next";

  /**
   * Set to `true` to disable the button
   * @type {boolean}[disabled=false]
   */
  export let disabled = false;

  let isLeft = true;
  let paginationNextButton;
  let variants = "cta";
  const eventsListen = getEventsAction(current_component);
  onMount(() => {
    isLeft = paginationNextButton.parentNode.classList.contains("spectrum-SplitButton--left");
    if (paginationNextButton.parentNode.classList.contains("spectrum-SplitButton--cta")) {
      variants = "cta";
    }
    if (paginationNextButton.parentNode.classList.contains("spectrum-SplitButton--primary")) {
      variants = "primary";
    }
    if (paginationNextButton.parentNode.classList.contains("spectrum-SplitButton--secondary")) {
      variants = "secondary";
    }
  });
</script>

<a
  {href}
  {type}
  class="spectrum-Button spectrum-Button--{variants} spectrum-SplitButton-action spectrum-Pagination-nextButton"
  class:is-disabled={disabled}
  bind:this={paginationNextButton}
  use:eventsListen>
  {#if !isLeft}
    <IconChevronLeftMedium
      className="spectrum-Icon spectrum-UIIcon-ChevronLeftMedium"
      focusable="false"
      aria-hidden="true"
      aria-label="ChevronLeft" />
  {/if}
  <span class="spectrum-Button-label"><slot>{label}</slot></span>
  {#if isLeft}
    <IconChevronRightMedium
      className="spectrum-Icon spectrum-UIIcon-ChevronRightMedium"
      focusable="false"
      aria-hidden="true"
      aria-label="ChevronRight" />
  {/if}
</a>
