<script>
  import { IconChevronLeftMedium, IconChevronRightMedium } from "@rubus/svelte-spectrum-icons-ui";
  import { onMount } from "svelte";
  import { current_component } from "svelte/internal";
  import { getEventsAction } from "../utils/get-events-action.js";

  /**
   * Set the `href` to use an anchor link
   * @type {string}[href = ""]
   */
  export let href = "#";

  /**
   * Set to `true` to disable the button
   * @type {boolean}[disabled=false]
   */
  export let disabled = false;

  /**
   * Specify the `type` attribute for the button element
   * @type {"button"|"submit"|"reset"}[type="button"]
   */
  export let type = "button";

  let paginationPrevButton;
  let isLeft = true;
  let variants = "cta";
  const eventsListen = getEventsAction(current_component);
  onMount(() => {
    isLeft = paginationPrevButton.parentNode.classList.contains("spectrum-SplitButton--left");
    if (paginationPrevButton.parentNode.classList.contains("spectrum-SplitButton--cta")) {
      variants = "cta";
    }
    if (paginationPrevButton.parentNode.classList.contains("spectrum-SplitButton--primary")) {
      variants = "primary";
    }
    if (paginationPrevButton.parentNode.classList.contains("spectrum-SplitButton--secondary")) {
      variants = "secondary";
    }
  });
</script>

<a
  {href}
  {type}
  class="spectrum-Button spectrum-Button--{variants} spectrum-SplitButton-trigger spectrum-Pagination-prevButton"
  class:is-disabled={disabled}
  bind:this={paginationPrevButton}
  use:eventsListen>
  {#if isLeft}
    <IconChevronLeftMedium
      className="spectrum-Icon spectrum-UIIcon-ChevronLeftMedium"
      focusable="false"
      aria-hidden="true"
      aria-label="ChevronLeft" />
  {:else}
    <IconChevronRightMedium
      className="spectrum-Icon spectrum-UIIcon-ChevronRightMedium"
      focusable="false"
      aria-hidden="true"
      aria-label="ChevronRight" />
  {/if}
</a>
