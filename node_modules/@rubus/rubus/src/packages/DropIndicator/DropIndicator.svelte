<script>
  import { onMount } from "svelte";
  import { integrateAutoProps } from "../utils/integrate-style-props.js";
  /**
   * Specify the orientation  for the drop indicator
   * @type {"horizontal" | "vertical"}  [orientation = "horizontal"]
   */
  export let orientation = "horizontal";

  /**
   * Overrides the spacing related style.
   * @type { ISpacing } [spacing = {}]
   */
  export let spacing = {};

  /**
   * Specify the dimension  for the drop indicator
   * @type { DimensionValue } [spacing = "size-600"]
   */
  export let dimension = "size-600";

  let spacingCssText = "";
  let dimensionCssText = "";
  onMount(() => {
    spacingCssText = integrateAutoProps(spacing);
  });

  $: styleCssText = [
    orientation == "horizontal" && dimension.indexOf("size") !== -1
      ? `width:var(--spectrum-global-dimension-${dimension});`
      : `width:${dimension};`,
    orientation == "vertical" && dimension.indexOf("size") !== -1
      ? `height:var(--spectrum-global-dimension-${dimension});`
      : `height:${dimension};`,
    spacingCssText,
  ]
    .filter(Boolean)
    .join("");
</script>

<div class="spectrum-DropIndicator spectrum-DropIndicator--{orientation}" style={styleCssText} />
