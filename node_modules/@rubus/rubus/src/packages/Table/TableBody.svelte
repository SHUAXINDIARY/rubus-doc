<script>
  import { getContext } from "svelte";

  /**
   * The element css height
   * @type {DimensionValue} [height = "120px"]
   */
  export let height = "120px";

  /**
   * The element css width
   * @type {DimensionValue} [height = "100%"]
   */
  export let width = "100%";

  /**
   * Whether the element can be used as the target of the drop event
   * @type {boolean} [isDropTarget = false]
   */
  export let isDropTarget = false;

  let rubusTableStaticConfig = getContext("rubusTableStaticConfig");
  $: styleCssText = [
    height && height.toString().indexOf("size") !== -1
      ? `height:var(--spectrum-global-dimension-${height});`
      : height.toString().indexOf("%") !== -1
      ? `height: ${height};`
      : `height: ${height}px;`,
    width && width.toString().indexOf("size") !== -1
      ? `width:var(--spectrum-global-dimension-${width});`
      : width.toString().indexOf("%") !== -1
      ? `width: ${width};`
      : `width: ${width}px;`,
  ]
    .filter(Boolean)
    .join(" ");
</script>

{#if $rubusTableStaticConfig.useDivElement}
  <div
    class="spectrum-Table-body"
    class:is-drop-target={isDropTarget}
    style={styleCssText}
    role="rowgroup"
    on:mousedown
    on:mousemove
    on:mouseover
    on:mouseup>
    <slot />
  </div>
{:else}
  <tbody class="spectrum-Table-body">
    <slot />
  </tbody>
{/if}
