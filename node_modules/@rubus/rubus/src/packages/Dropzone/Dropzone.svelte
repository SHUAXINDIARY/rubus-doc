<script>
  import { current_component } from "svelte/internal";
  import { getEventsAction } from "../utils/get-events-action.js";
  import { IllustratedUpload } from "../IllustratedMessage";

  /**
   * Specify the dragged mode of dropzone
   * @type { boolean } [isDragged= false]
   */
  export let isDragged = false;

  /**
   * Specify the title of dropzone
   * @type { string } [title = ""]
   */
  export let title = "";

  /**
   * Specify the element width of dropzone
   * @type { DimensionValue } [width = 600;]
   */
  export let width = 600;

  /**
   * Specify the element height of dropzone
   * @type { DimensionValue } [height = 600;]
   */
  export let height = 250;

  const eventsListen = getEventsAction(current_component);
  $: styleCssText = [
    (width + "").indexOf("size") !== -1 ? `width:var(--spectrum-global-dimension-${width});` : `width:${width}px;`,
    (height + "").indexOf("size") !== -1 ? `height:var(--spectrum-global-dimension-${height});` : `height:${height}px;`,
  ]
    .filter(Boolean)
    .join(" ");
</script>

<div
  class="spectrum-Dropzone"
  class:is-dragged={isDragged}
  role="region"
  tabindex="0"
  style={styleCssText}
  use:eventsListen>
  <div class="spectrum-IllustratedMessage spectrum-IllustratedMessage--cta">
    <IllustratedUpload class="spectrum-IllustratedMessage-illustration" />
    <h2 class="spectrum-Heading--pageTitle spectrum-IllustratedMessage-heading">{title}</h2>
    <slot />
  </div>
</div>
