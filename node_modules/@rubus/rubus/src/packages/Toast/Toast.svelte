<script>
  import Button from "../Button";
  import { IconCrossMedium, IconInfoMedium, IconAlertMedium, IconSuccessMedium } from "@rubus/svelte-spectrum-icons-ui";

  /**
   *  Specify the label text for the toast
   * @type {string} [label = ""]
   */
  export let label = "";

  /**
   * Specify the variants  for the  toast
   * @type {"default" | "info" | "negative" | "positive" | "error" | "warning" | "success"} [variants = "default"]
   */
  export let variants = "default";

  /**
   * The element css height
   * @type {DimensionValue} [height = "100%"]
   */
  export let height = "auto";

  /**
   * The element css width
   * @type {DimensionValue} [width = "auto"]
   */
  export let width = "auto";

  $: styleCssText = [
    height && height.toString().indexOf("size") !== -1
      ? `height:var(--spectrum-global-dimension-${height});`
      : height.toString().indexOf("%") !== -1
      ? `height: ${height};`
      : `height: ${height}px;`,
    width && width.toString().indexOf("size") !== -1
      ? `width:var(--spectrum-global-dimension-${width});`
      : width.toString().indexOf("%") !== -1
      ? `width: ${width};`
      : `width: ${width}px;`,
  ]
    .filter(Boolean)
    .join(" ");
</script>

<div class="spectrum-Toast spectrum-Toast--{variants}" style={styleCssText}>
  {#if variants === 'info'}
    <IconInfoMedium className="spectrum-Toast-typeIcon" />
  {:else if variants === 'negative' || variants === 'error' || variants === 'warning'}
    <IconAlertMedium className="spectrum-Toast-typeIcon" />
  {:else if variants === 'positive' || variants === 'success'}
    <IconSuccessMedium className="spectrum-Toast-typeIcon" />
  {/if}
  <div class="spectrum-Toast-body">
    <div class="spectrum-Toast-content">{label}</div>
    <slot />
  </div>
  <div class="spectrum-Toast-buttons">
    <Button exterior="clear" variant="overBackground" on:click on:keydown on:keyup on:mousedown on:mouseup>
      <IconCrossMedium focusable="false" aria-hidden="true" />
    </Button>
  </div>
</div>
