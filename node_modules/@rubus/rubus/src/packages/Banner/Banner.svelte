<script>
  import { onMount } from "svelte";
  import { setPositionedAccording } from "../utils/presetStyle.js";

  /**
   * Specify the title of banner
   * @type {string} [title = ""]
   */
  export let title = "";

  /**
   * Specify the text content of banner
   * @type {string} [content = ""]
   */
  export let content = "";

  /**
   * Specify the max-width css style of banner
   * @type {DimensionValue} [maxWidth = "size-2000"]
   */
  export let maxWidth = "size-2000";

  /**
   * Specify the min-width css style of banner
   * @type {DimensionValue} [minWidth = ""]
   */
  export let minWidth = "";

  /**
   * Specify the min-height css style of banner
   * @type {DimensionValue} [minHeight = ""]
   */
  export let minHeight = "";

  /**
   * Specify the variant of banner
   * @type {"info"  | "warning" | "error" } [variant="info"]
   */
  export let variants = "info";

  /**
   * Whether to automatically display in the corner
   * @type {boolean } [corner = false]
   */
  export let corner = false;
  let banner;
  $: styleCssText = [
    maxWidth && `max-width:var(--spectrum-global-dimension-${maxWidth});`,
    minWidth && `min-width:var(--spectrum-global-dimension-${minWidth});`,
    minHeight && `min-height:var(--spectrum-global-dimension-${minWidth});`,
  ]
    .filter(Boolean)
    .join(" ");

  onMount(() => {
    corner && setPositionedAccording(banner);
  });
</script>

<div
  class="spectrum-Banner spectrum-Banner--{variants}"
  class:spectrum-Banner--corner={corner}
  style={styleCssText}
  bind:this={banner}>
  <div class="spectrum-Banner-header">{title}</div>
  <div class="spectrum-Banner-content">{content}</div>
</div>
