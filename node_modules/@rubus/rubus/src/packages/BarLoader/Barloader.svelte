<script>
  /**
   * Specify the value of barloader
   * @type { number } [value=50]
   */
  export let value = 50;

  /**
   * Specify the min value of barloader
   * @type { number } [minValue=0]
   */
  export let minValue = 0;

  /**
   * Specify the max value of barloader
   * @type { number } [maxValue=0]
   */
  export let maxValue = 100;

  /**
   * Specify the label of barloader
   * @type { string } [label = "Loading"]
   */
  export let label = "Loading";

  /**
   * Specify the variant of barloader
   * @type {"label"  | "side-label"  } [variant="info"]
   */
  export let variants = "";

  /**
   * Specify the small mode of barloader
   * @type { boolean } [isSmall = false]
   */
  export let isSmall = false;

  /**
   * Specify the over background of barloader
   * @type { boolean } [overBackground = false]
   */
  export let overBackground = false;

  /**
   * Specify the loading status of barloader
   * @type { boolean } [loading = false]
   */
  export let loading = false;
</script>

<div
  class="spectrum-BarLoader"
  class:spectrum-BarLoader--small={isSmall}
  class:spectrum-BarLoader--sideLabel={variants == 'side-label'}
  class:spectrum-BarLoader--overBackground={overBackground}
  class:spectrum-BarLoader--indeterminate={loading}
  {value}
  role="progressbar"
  aria-valuenow={value}
  aria-valuemin={minValue}
  aria-valuemax={maxValue}>
  {#if variants}
    <div class="spectrum-BarLoader-label">{label}</div>
    {#if !loading}
      <div class="spectrum-BarLoader-percentage">{value + `%`}</div>
    {/if}

    <div class="spectrum-BarLoader-track">
      <div class="spectrum-BarLoader-fill" style="width: {value}%;" />
    </div>
  {:else}
    <div class="spectrum-BarLoader-track">
      <div class="spectrum-BarLoader-fill" style="width: {value}%;" />
    </div>
    <div class="spectrum-BarLoader-label" hidden="" />
  {/if}
</div>
